<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twitch Video Overlay Extension</title>
    
    <!-- Twitch Extension Helper script - must be first -->
    <script src="https://extension-files.twitch.tv/helper/v1/twitch-ext.min.js"></script>
    
    <style>
        body {
            margin: 0;
            padding: 0;
            background: transparent;
            font-family: Arial, sans-serif;
        }
        
        #app {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <!-- Main app container -->
    <div id="app">test</div>
    
    <!-- Future JS app will be mounted to the #app div above -->
    <script>
            console.log('Extension booted');

    setInterval(() => {
        console.log('heartbeat');
    }, 3000);

        console.log('Twitch Extension Helper loaded:', typeof window.Twitch !== 'undefined');

        Twitch.ext.onAuthorized(function(auth) {
            fetch("https://b6ff-98-146-247-34.ngrok-free.app/api/ping")
                .then(res => res.json())
                .then(data => console.log("Pinged!", data))
                .catch(err => console.error("Ping failed", err));
        });

    </script>
</body>
</html>
